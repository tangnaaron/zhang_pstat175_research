---
title: "NFL Data Exploration"
date: "2026-02-01"
format: 
  pdf
html-math-method: mathjax
execute:
  eval: TRUE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(ggplot2)
library(here)

```

## Background of NFL Data 

-   ***Prediction of Retirement for a Quarterback***

    -   **Event:** Retirement (Last game/season in NFL)

    -   **Time Scale:** Number of Seasons/Games since debut

    -   **Censoring:** QB still active at end of observation period

-   **Source:** [NFL Statistics](https://www.kaggle.com/datasets/kendallgillies/nflstatistics/data)

-   Relevant Files

    1.  Basic_Stats

        1.  Variables:

    2.  Game_Logs_Quarterback

    3.  Career_Stats_Passing

    4.  Career_Stats_Rushing

    5.  Career_Stats_Fumbles

### Import Data

```{r}
raw_player <- read_csv(here("nfl", "data", "Basic_Stats.csv"))
raw_qb_logs <- read_csv(here("nfl", "data", "Game_Logs_Quarterback.csv"))
raw_passes <- read_csv(here("nfl", "data", "Career_Stats_Passing.csv"))
raw_rushing <- read_csv(here("nfl", "data", "Career_Stats_Rushing.csv"))
raw_fumbles <- read_csv(here("nfl", "data", "Career_Stats_Fumbles.csv"))
```

### Read Data

```{r}
# see what variables are in each file 
colnames(raw_player)
colnames(raw_qb_logs)
colnames(raw_passes)
colnames(raw_rushing)
colnames(raw_fumbles)

# Observe the data 
head(raw_player, n=20)
head(raw_qb_logs, n=20)
head(raw_passes, n=20)
head(raw_rushing, n=20)
head(raw_fumbles, n=20)
```

Key Limitations:

-   Retirement is inferred, not observed

    -   No games logged after season t

    -   No reappearance in future seasons

-   That introduces:

    -   Potential misclassification (e.g., temporary exits)

-   How fix:

    -   Right-censor recent seasons

    -   Acknowledge it explicitly
